@import "tailwindcss";

:root {
  font-family: Inter, system-ui, -apple-system, Segoe UI, sans-serif;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
}

:where(input:not([type]),
  input[type='text'],
  input[type='search'],
  input[type='email'],
  input[type='password'],
  input[type='url'],
  input[type='tel'],
  input[type='number'],
  textarea,
  [contenteditable='true'],
  [contenteditable='plaintext-only']) {
  transition: all 200ms ease-out;
}

.input-affordance {
  transition: all 200ms ease-out;
}

.animated-input-root {
  position: relative;
}

.animated-input-native {
  color: transparent;
  caret-color: transparent;
}

.animated-input-native::selection {
  background-color: hsl(226 90% 68% / 0.28);
}

.animated-input-overlay {
  pointer-events: none;
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  overflow: hidden;
}

.animated-input-measure {
  position: absolute;
  left: 0;
  top: 0;
  visibility: hidden;
  white-space: pre;
}

.animated-input-track {
  position: relative;
  white-space: pre;
  transition: transform 120ms cubic-bezier(0.22, 1, 0.36, 1);
}

.quick-add-keyword-highlight {
  color: #4f39f6;
  font-weight: 650;
}

.quick-add-placeholder-hint {
  color: #98a8be;
}

@keyframes quick-add-tab-switch-to-idea {
  0% {
    transform: translateX(0) scale(1);
  }

  40% {
    transform: translateX(7px) scale(0.992);
  }

  100% {
    transform: translateX(0) scale(1);
  }
}

@keyframes quick-add-tab-switch-to-task {
  0% {
    transform: translateX(0) scale(1);
  }

  40% {
    transform: translateX(-7px) scale(0.992);
  }

  100% {
    transform: translateX(0) scale(1);
  }
}

.quick-add-tab-switch {
  will-change: transform;
}

.quick-add-tab-switch--idea {
  animation: quick-add-tab-switch-to-idea 240ms cubic-bezier(0.22, 1, 0.36, 1);
}

.quick-add-tab-switch--task {
  animation: quick-add-tab-switch-to-task 240ms cubic-bezier(0.22, 1, 0.36, 1);
}

@media (prefers-reduced-motion: reduce) {
  .quick-add-tab-switch--idea,
  .quick-add-tab-switch--task {
    animation: none;
  }
}

.animated-input-caret {
  position: absolute;
  top: 50%;
  left: 0;
  pointer-events: none;
  transition: transform 110ms cubic-bezier(0.22, 1, 0.36, 1);
}

.animated-input-caret-body {
  display: block;
  width: 2px;
  height: 1.05em;
  border-radius: 999px;
  background: #4f39f6;
  transform-origin: center;
  animation:
    animated-caret-idle 960ms ease-in-out infinite,
    animated-caret-bump 120ms ease-out 1;
}

@keyframes animated-caret-idle {

  0%,
  46%,
  100% {
    opacity: 1;
  }

  56%,
  92% {
    opacity: 0.35;
  }
}

@keyframes animated-caret-bump {
  0% {
    transform: scaleY(0.68);
  }

  60% {
    transform: scaleY(1.35);
  }

  100% {
    transform: scaleY(1);
  }
}

html,
body,
#root {
  width: 100%;
  height: 100%;
  margin: 0;
}

body {
  background-color: hsl(210deg 20% 98%);
  color: hsl(216deg 20% 16%);
}

body.quick-add-mode,
body.quick-add-mode #root {
  background: transparent;
}

@keyframes task-exit {
  0% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.5;
    text-decoration: line-through;
  }

  100% {
    opacity: 0;
    transform: scale(0.95);
    height: 0;
    margin: 0;
    padding: 0;
    overflow: hidden;
  }
}

.task-exiting {
  animation: task-exit 400ms ease-out forwards;
  pointer-events: none;
}

@keyframes idea-exit {
  from {
    opacity: 1;
    transform: translateY(0);
  }

  to {
    opacity: 0;
    transform: translateY(-4px);
  }
}

.idea-exiting {
  animation: idea-exit 180ms ease-out forwards;
  pointer-events: none;
}

.drop-active {
  outline: 2px solid var(--indigo-8);
  outline-offset: -2px;
  background-color: var(--indigo-a2);
}

/* ─── Date Picker ─── */

@keyframes cal-enter {
  from {
    opacity: 0;
    transform: translateY(-6px) scale(0.96);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.calm-datepicker {
  animation: cal-enter 180ms cubic-bezier(0.22, 1, 0.36, 1);
  box-shadow:
    0 0 0 1px hsl(220 20% 88% / 0.5),
    0 4px 16px -2px hsl(220 25% 10% / 0.1),
    0 12px 40px -8px hsl(220 25% 10% / 0.08);
}

.calm-datepicker-nav {
  transition: background-color 140ms ease, color 140ms ease;
}

.calm-datepicker-day {
  transition: background-color 100ms ease, color 100ms ease, box-shadow 100ms ease;
}

.calm-datepicker-day:hover {
  background-color: hsl(220 16% 94%);
}

.calm-datepicker-day[data-today='true']:not([data-selected='true']) {
  background-color: hsl(226 60% 96%);
  color: hsl(226 60% 48%);
  font-weight: 600;
}

.calm-datepicker-day[data-today='true']:not([data-selected='true']):hover {
  background-color: hsl(226 55% 91%);
}

.calm-datepicker-day[data-selected='true'] {
  background-color: hsl(226 68% 52%);
  color: white;
  font-weight: 600;
  box-shadow: 0 1px 4px hsl(226 68% 48% / 0.28);
}

.calm-datepicker-day[data-selected='true']:hover {
  background-color: hsl(226 68% 48%);
}

.calm-datepicker-today-btn {
  transition: background-color 140ms ease, color 140ms ease;
}

.calm-datepicker-today-btn:hover {
  background-color: hsl(220 16% 93%);
  color: hsl(220 14% 38%);
}